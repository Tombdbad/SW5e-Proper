// models/Character.js
const mongoose = require('mongoose');

const CharacterSchema = new mongoose.Schema({
  // Basic Info
  name: { type: String, required: true },
  species: { type: String, required: true },
  class: { type: String, required: true },
  level: { type: Number, default: 1 },
  alignment: { type: String },
  background: { type: String },
  
  // Stats
  attributes: {
    strength: { type: Number, default: 10 },
    dexterity: { type: Number, default: 10 },
    constitution: { type: Number, default: 10 },
    intelligence: { type: Number, default: 10 },
    wisdom: { type: Number, default: 10 },
    charisma: { type: Number, default: 10 }
  },
  
  // Skills and Proficiencies
  skills: {
    acrobatics: { type: Boolean, default: false },
    animalHandling: { type: Boolean, default: false },
    athletics: { type: Boolean, default: false },
    deception: { type: Boolean, default: false },
    insight: { type: Boolean, default: false },
    intimidation: { type: Boolean, default: false },
    investigation: { type: Boolean, default: false },
    lore: { type: Boolean, default: false },
    medicine: { type: Boolean, default: false },
    nature: { type: Boolean, default: false },
    perception: { type: Boolean, default: false },
    performance: { type: Boolean, default: false },
    persuasion: { type: Boolean, default: false },
    piloting: { type: Boolean, default: false },
    sleightOfHand: { type: Boolean, default: false },
    stealth: { type: Boolean, default: false },
    survival: { type: Boolean, default: false },
    technology: { type: Boolean, default: false }
  },
  
  // Equipment & Resources
  credits: { type: Number, default: 0 },
  inventory: [{
    name: String, 
    description: String,
    quantity: Number,
    weight: Number
  }],
  weapons: [{
    name: String,
    damage: String,
    damageType: String,
    properties: [String]
  }],
  armor: {
    name: String,
    armorClass: Number,
    type: String
  },
  
  // Force powers and abilities
  forcePowers: [{
    name: String,
    level: Number,
    description: String,
    castingTime: String,
    range: String,
    duration: String,
    usesRemaining: Number,
    maxUses: Number
  }],
  
  // Character backstory and traits
  personalityTraits: [String],
  ideals: [String],
  bonds: [String],
  flaws: [String],
  backstory: String,
  
  // Campaign related
  currentLocation: { type: String, default: '' },
  reputation: {
    empire: { type: Number, default: 0 },
    rebellion: { type: Number, default: 0 },
    hutts: { type: Number, default: 0 },
    mandalorians: { type: Number, default: 0 },
    // Add other factions as needed
  },
  
  // Meta information
  xp: { type: Number, default: 0 },
  userId: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
  created: { type: Date, default: Date.now },
  lastUpdated: { type: Date, default: Date.now }
});

module.exports = mongoose.model('Character', CharacterSchema);